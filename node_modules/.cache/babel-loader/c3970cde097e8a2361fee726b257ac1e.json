{"ast":null,"code":"import _slicedToArray from \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/FormAddMessage.js\";\nimport React, { useState, handleChange, handleSubmit } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\nfunction FormAddMessage(_ref) {\n  var _this = this;\n\n  var passerPseudo = _ref.passerPseudo;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      addMessage = _useState2[1];\n\n  handleChange(function (event) {\n    addMessage(event.target.value);\n  });\n  handleSubmit(function (event) {\n    alert('Un essai a été envoyé : ' + _this.state.value);\n    event.preventDefault();\n  });\n\n  var publier = function publier(m) {\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 5000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    });\n    var p = {\n      passerPseudo: passerPseudo\n    };\n    console.log(\"form: \", message);\n    instance.put('api/message', {\n      Pseudo: p.passerPseudo,\n      message: message\n    }).then(function (response) {\n      console.log(\"resultat\", response);\n      alert(\"ca marche\", response);\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"error\", error);\n    });\n  };\n\n  return React.createElement(\"form\", {\n    className: \"FormAddMessage\",\n    name: \"FormAddMessage\",\n    onSubmit: this.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    id: \"LabelM\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    value: message,\n    onChange: this.handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Envoyer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"button\",\n    id: \"publierM\",\n    onClick: publier,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Publier\")));\n}\n\nexport default FormAddMessage;","map":{"version":3,"sources":["/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/FormAddMessage.js"],"names":["React","useState","handleChange","handleSubmit","ListeMessage","MurDeTweetsF","axios","FormAddMessage","passerPseudo","message","addMessage","event","target","value","alert","state","preventDefault","publier","m","instance","create","baseURL","timeout","headers","p","console","log","put","Pseudo","then","response","catch","error"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,YAA1B,EAAwCC,YAAxC,QAA2D,OAA3D;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,cAAT,OAAuC;AAAA;;AAAA,MAAdC,YAAc,QAAdA,YAAc;;AAAA,kBACNP,QAAQ,CAAC,EAAD,CADF;AAAA;AAAA,MAC7BQ,OAD6B;AAAA,MACpBC,UADoB;;AAGnCR,EAAAA,YAAY,CAAC,UAACS,KAAD,EAAS;AAClBD,IAAAA,UAAU,CAACC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV;AACH,GAFW,CAAZ;AAIAV,EAAAA,YAAY,CAAC,UAACQ,KAAD,EAAU;AACnBG,IAAAA,KAAK,CAAC,6BAA6B,KAAI,CAACC,KAAL,CAAWF,KAAzC,CAAL;AACAF,IAAAA,KAAK,CAACK,cAAN;AACH,GAHW,CAAZ;;AAKA,MAAMC,OAAO,GAAE,SAATA,OAAS,CAACC,CAAD,EAAM;AACjB,QAAMC,QAAQ,GAAGb,KAAK,CAACc,MAAN,CAAa;AAC9BC,MAAAA,OAAO,EAAE,wBADqB;AAE9BC,MAAAA,OAAO,EAAE,IAFqB;AAG9BC,MAAAA,OAAO,EAAE;AAAC,2BAAmB;AAApB;AAHqB,KAAb,CAAjB;AAKA,QAAIC,CAAC,GAAG;AAAChB,MAAAA,YAAY,EAAZA;AAAD,KAAR;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBjB,OAAtB;AACAU,IAAAA,QAAQ,CAACQ,GAAT,CAAa,aAAb,EAA2B;AAACC,MAAAA,MAAM,EAAGJ,CAAC,CAAChB,YAAZ;AAA0BC,MAAAA,OAAO,EAAGA;AAApC,KAA3B,EACCoB,IADD,CACM,UAAUC,QAAV,EAAmB;AACrBL,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBI,QAAvB;AACAhB,MAAAA,KAAK,CAAC,WAAD,EAAagB,QAAb,CAAL;AACH,KAJD,EAKCC,KALD,CAKO,UAAUC,KAAV,EAAgB;AACnBP,MAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACAlB,MAAAA,KAAK,CAAC,OAAD,EAASkB,KAAT,CAAL;AACH,KARD;AASH,GAjBD;;AAmBA,SACI;AAAM,IAAA,SAAS,EAAG,gBAAlB;AAAmC,IAAA,IAAI,EAAG,gBAA1C;AAA2D,IAAA,QAAQ,EAAE,KAAK7B,YAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,EAAE,EAAG,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEM,OAA1B;AAAmC,IAAA,QAAQ,EAAE,KAAKP,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAKI;AAAQ,IAAA,SAAS,EAAG,QAApB;AAA6B,IAAA,EAAE,EAAG,UAAlC;AAA6C,IAAA,OAAO,EAAEe,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,CADJ,CADJ;AAYC;;AAGL,eAAeV,cAAf","sourcesContent":["import React, { useState, handleChange, handleSubmit} from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\nfunction FormAddMessage({passerPseudo}){\n    const[message, addMessage] = useState(\"\");\n\n    handleChange((event)=>{\n        addMessage(event.target.value);\n    })\n\n    handleSubmit((event) =>{\n        alert('Un essai a été envoyé : ' + this.state.value);\n        event.preventDefault();\n    })\n\n    const publier =(m) =>{\n        const instance = axios.create({\n        baseURL: 'http://localhost:4000/',\n        timeout: 5000,\n        headers: {'X-Custom-Header': 'foobar'}\n        });\n        let p = {passerPseudo}\n        console.log(\"form: \" ,message)\n        instance.put('api/message',{Pseudo : p.passerPseudo, message : message})\n        .then(function (response){\n            console.log(\"resultat\",response)\n            alert(\"ca marche\",response)\n        })\n        .catch(function (error){\n            console.log(error)\n            alert(\"error\",error)\n        })\n    }\n\n    return(\n        <form className = \"FormAddMessage\" name = \"FormAddMessage\" onSubmit={this.handleSubmit}>\n            <div id=\"message\">\n                <label id = \"LabelM\"></label>\n                <input type=\"text\" value={message} onChange={this.handleChange} />\n                <input type=\"submit\" value=\"Envoyer\" />\n                {/* <input onChange={(m)=> addMessage(m.target.value)} id = \"inputM\" value = {message} placeholder=\"Ecrire votre message\" type = \"text\"></input> */}\n                <button className = \"button\" id = \"publierM\" onClick={publier}>Publier</button>\n\n            </div>\n        </form>\n    )\n    }\n\n\nexport default FormAddMessage;"]},"metadata":{},"sourceType":"module"}