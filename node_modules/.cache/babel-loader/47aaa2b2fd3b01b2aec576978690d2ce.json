{"ast":null,"code":"var _jsxFileName = \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Message.js\";\nimport React, { forwardRef, useState } from 'react';\nimport './message.css';\nimport axios from 'axios';\nimport Profil from './Profil';\nvar Message = forwardRef(function (_ref, ref) {\n  var idM = _ref.idM,\n      pseudo = _ref.pseudo,\n      message = _ref.message,\n      date = _ref.date,\n      setClic = _ref.setClic,\n      page = _ref.page;\n\n  // on peut supprimer nos message que dans notre profil\n  var supprimerM = function supprimerM() {\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 5000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    }); // on recupere les liens d'amitie\n\n    instance.delete('api/message/' + idM).then(function (response) {\n      console.log(\"suppresion message\", response);\n      alert(\"Message supprimé\");\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"error\", error);\n    });\n  };\n\n  if (page == 'profil') {\n    return React.createElement(\"button\", {\n      className: \"button\",\n      id: \"pseudo\",\n      onClick: function onClick() {\n        return supprimerM();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"X\");\n  } else {\n    return React.createElement(\"div\", {\n      className: \"post\",\n      id: \"Message\",\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"photo\",\n      src: \"papillon.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button\",\n      id: \"pseudo\",\n      onClick: function onClick() {\n        return setClic(pseudo);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, pseudo), date, React.createElement(\"div\", {\n      id: \"contenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, message));\n  }\n});\nexport default Message;","map":{"version":3,"sources":["/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Message.js"],"names":["React","forwardRef","useState","axios","Profil","Message","ref","idM","pseudo","message","date","setClic","page","supprimerM","instance","create","baseURL","timeout","headers","delete","then","response","console","log","alert","catch","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA2C,OAA3C;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,OAAO,GAAGJ,UAAU,CACtB,gBAA6CK,GAA7C,EAAmD;AAAA,MAAjDC,GAAiD,QAAjDA,GAAiD;AAAA,MAA5CC,MAA4C,QAA5CA,MAA4C;AAAA,MAApCC,OAAoC,QAApCA,OAAoC;AAAA,MAA3BC,IAA2B,QAA3BA,IAA2B;AAAA,MAArBC,OAAqB,QAArBA,OAAqB;AAAA,MAAZC,IAAY,QAAZA,IAAY;;AAE/C;AACA,MAAMC,UAAU,GAAE,SAAZA,UAAY,GAAK;AACnB,QAAMC,QAAQ,GAAGX,KAAK,CAACY,MAAN,CAAa;AAC1BC,MAAAA,OAAO,EAAE,wBADiB;AAE1BC,MAAAA,OAAO,EAAE,IAFiB;AAG1BC,MAAAA,OAAO,EAAE;AAAC,2BAAmB;AAApB;AAHiB,KAAb,CAAjB,CADmB,CAMnB;;AACAJ,IAAAA,QAAQ,CAACK,MAAT,CAAgB,iBAAeZ,GAA/B,EACCa,IADD,CACM,UAAUC,QAAV,EAAmB;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCF,QAAjC;AACAG,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACH,KAJD,EAKCC,KALD,CAKO,UAAUC,KAAV,EAAgB;AACnBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACAF,MAAAA,KAAK,CAAC,OAAD,EAASE,KAAT,CAAL;AACH,KARD;AASH,GAhBD;;AAkBI,MAAGd,IAAI,IAAI,QAAX,EAAoB;AAChB,WACI;AAAQ,MAAA,SAAS,EAAG,QAApB;AAA6B,MAAA,EAAE,EAAG,QAAlC;AAA2C,MAAA,OAAO,EAAE;AAAA,eAAIC,UAAU,EAAd;AAAA,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ;AAGH,GAJD,MAKI;AACA,WACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,EAAE,EAAC,SAAzB;AAAmC,MAAA,GAAG,EAAEP,GAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI;AAAK,MAAA,EAAE,EAAC,OAAR;AAAe,MAAA,GAAG,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAQ,MAAA,SAAS,EAAG,QAApB;AAA6B,MAAA,EAAE,EAAG,QAAlC;AAA2C,MAAA,OAAO,EAAE;AAAA,eAAIK,OAAO,CAACH,MAAD,CAAX;AAAA,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0EA,MAA1E,CAJJ,EAKKE,IALL,EAQA;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,OADL,CARA,CADJ;AAcC;AACZ,CA3CqB,CAA1B;AA8CA,eAAeJ,OAAf","sourcesContent":["import React, { forwardRef, useState} from 'react';\nimport './message.css';\nimport axios from 'axios';\nimport Profil from './Profil';\n\nconst Message = forwardRef(\n    ({idM, pseudo, message, date, setClic, page},ref)=>{\n\n        // on peut supprimer nos message que dans notre profil\n        const supprimerM =() =>{\n            const instance = axios.create({\n                baseURL: 'http://localhost:4000/',\n                timeout: 5000,\n                headers: {'X-Custom-Header': 'foobar'}\n            });\n            // on recupere les liens d'amitie\n            instance.delete('api/message/'+idM)\n            .then(function (response){\n                console.log(\"suppresion message\",response)\n                alert(\"Message supprimé\")\n            })\n            .catch(function (error){\n                console.log(error)\n                alert(\"error\",error)\n            })\n        }\n\n            if(page == 'profil'){\n                return(\n                    <button className = \"button\" id = \"pseudo\" onClick={()=>supprimerM()}>X</button>\n                )\n            }\n            else{\n                return(\n                    <div className=\"post\" id='Message' ref={ref}>\n                        {/* boutton suppression message */}\n                        \n                        <img id=\"photo\"src=\"papillon.jpg\"/>\n                        <button className = \"button\" id = \"pseudo\" onClick={()=>setClic(pseudo)}>{pseudo}</button>\n                        {date}\n                        {/* <input id = \"date\" type = \"date\" placeholder=\"Date\" name = \"date\" value= {this.state.date} onChange= {this.handleChange}></input> */}\n                            \n                    <div id=\"contenu\">\n                        {message}\n                    </div>\n                    </div>\n                )\n                }\n    }\n)\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}