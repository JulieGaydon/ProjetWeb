{"ast":null,"code":"import _slicedToArray from \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Profil.js\";\nimport React, { useEffect, useState } from 'react';\nimport Message from './Message';\nimport axios from 'axios';\nimport Logout from './Logout';\nimport './Profil.css';\nimport FormAddMessage from './FormAddMessage';\nimport Ami from './Ami';\nimport MurDeTweets from './MurDeTweets';\n\nfunction Profil(_ref) {\n  var CallBackChangeEtat = _ref.CallBackChangeEtat,\n      PPpseudo = _ref.PPpseudo,\n      setClic = _ref.setClic;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      liens = _useState4[0],\n      setLiens = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pseudo = _useState6[0],\n      setPseudo = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      nom = _useState8[0],\n      setNom = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      prenom = _useState10[0],\n      setPrenom = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      mdt = _useState12[0],\n      setMur = _useState12[1];\n\n  useEffect(function () {\n    var p = {\n      PPpseudo: PPpseudo\n    };\n    setPseudo(p.PPpseudo);\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 1000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    }); //on recupere nos info\n\n    instance.get('api/user/' + p.PPpseudo).then(function (response) {\n      setNom(response.data[0].nom);\n      setPrenom(response.data[0].prenom);\n    }).catch(function (error) {\n      console.log(error);\n    }); // recupere nos messages\n\n    instance.get('api/message/' + p.PPpseudo).then(function (response) {\n      setPosts(response.data.map(function (doc) {\n        return doc;\n      }));\n    }).catch(function (error) {\n      console.log(error);\n    }); // recupere les liens d'amitie\n\n    instance.get('api/ami/' + p.PPpseudo).then(function (response) {\n      setLiens(response.data.map(function (doc) {\n        return doc;\n      }));\n    }).catch(function (error) {\n      alert(error);\n      console.log(error);\n    });\n  }, []);\n\n  if (mdt == true) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(MurDeTweets, {\n      CallBackChangeEtat: CallBackChangeEtat,\n      PPpseudo: pseudo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"fieldset\", {\n      id: \"Profil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"enteteP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      id: \"bouttonMdT\",\n      onClick: function onClick() {\n        return setMur(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Mur\"), React.createElement(\"h2\", {\n      id: \"titre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"BUTTERFLY\"), React.createElement(Logout, {\n      CallBackChangeEtat: CallBackChangeEtat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"Abo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"ab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Mes Abonnements\"), React.createElement(\"div\", {\n      id: \"cadreAmis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, liens.map(function (lien) {\n      return React.createElement(Ami, {\n        key: lien._id,\n        pseudo: lien.pami,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      id: \"mess\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(FormAddMessage, {\n      passerPseudo: pseudo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"cadreTweets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, posts.map(function (post) {\n      return React.createElement(Message, {\n        key: post._id,\n        idM: post._id,\n        pseudo: post.pseudo,\n        message: post.message,\n        setClic: setClic,\n        page: \"profil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      id: \"cadreProfil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"photo\",\n      src: \"papillon.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"@\", pseudo), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, nom), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, prenom)))));\n  }\n}\n\nexport default Profil;","map":{"version":3,"sources":["/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Profil.js"],"names":["React","useEffect","useState","Message","axios","Logout","FormAddMessage","Ami","MurDeTweets","Profil","CallBackChangeEtat","PPpseudo","setClic","posts","setPosts","liens","setLiens","pseudo","setPseudo","nom","setNom","prenom","setPrenom","mdt","setMur","p","instance","create","baseURL","timeout","headers","get","then","response","data","catch","error","console","log","map","doc","alert","lien","_id","pami","post","message"],"mappings":"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","sourcesContent":["import React, { useEffect ,useState } from 'react';\nimport Message from './Message';\nimport axios from 'axios';\nimport Logout from './Logout';\nimport './Profil.css';\nimport FormAddMessage from './FormAddMessage';\nimport Ami from './Ami'\nimport MurDeTweets from './MurDeTweets';\n\nfunction Profil ({CallBackChangeEtat, PPpseudo, setClic}){\n    const[posts, setPosts] = useState([]);\n    const[liens, setLiens] = useState([]);\n    const[pseudo, setPseudo] = useState([]);\n    const[nom, setNom] = useState([]);\n    const[prenom, setPrenom] = useState([]);\n    const[mdt, setMur] = useState(false);\n\n\n\n    useEffect(()=>{\n        let p = {PPpseudo}\n        setPseudo(p.PPpseudo)\n        const instance = axios.create({\n            baseURL: 'http://localhost:4000/',\n            timeout: 1000,\n            headers: {'X-Custom-Header': 'foobar'}\n        });\n        //on recupere nos info\n        instance.get('api/user/'+p.PPpseudo)\n        .then(function (response){\n            setNom(response.data[0].nom)\n            setPrenom(response.data[0].prenom)\n        })\n        .catch(function (error){\n            console.log(error)\n        }) \n        // recupere nos messages\n        instance.get('api/message/'+p.PPpseudo)\n        .then(function (response){\n            setPosts(response.data.map((doc) => doc))\n        })\n        .catch(function (error){\n            console.log(error)\n        })\n        // recupere les liens d'amitie\n        instance.get('api/ami/'+p.PPpseudo)\n        .then(function (response){\n            setLiens(response.data.map((doc) => doc))\n        })\n        .catch(function (error){\n            alert(error)\n            console.log(error)\n        })\n    },[])\n\n    if (mdt == true){\n        return(\n            <div>\n               <MurDeTweets CallBackChangeEtat = {CallBackChangeEtat} PPpseudo = {pseudo}/>\n            </div>\n        )\n    }\n    else{\n        return(<div>\n            <fieldset id = \"Profil\">\n                <div id=\"enteteP\">\n                    <button type=\"button\" id = \"bouttonMdT\" onClick={()=>setMur(true)}>Mur</button>\n                    <h2 id = \"titre\">BUTTERFLY</h2>\n                    <Logout CallBackChangeEtat = {CallBackChangeEtat}/>\n                </div> \n                <div id=\"Abo\">\n                    <h2 id = \"ab\">Mes Abonnements</h2>\n                    <div id=\"cadreAmis\">\n                        {liens.map((lien) => (\n                            <Ami key = {lien._id} pseudo = {lien.pami}/>\n                            ))}\n                    </div>\n                </div>\n                <div id=\"mess\">\n                    <FormAddMessage passerPseudo = {pseudo}/>\n                    <div id=\"cadreTweets\">\n                        {posts.map((post) => (\n                            <Message key = {post._id} idM = {post._id} pseudo = {post.pseudo} message = {post.message} setClic= {setClic} page = \"profil\"/>\n                        ))}\n                    </div>\n                </div>\n                <div id=\"cadreProfil\">\n                            <img id=\"photo\"src=\"papillon.jpg\"/>\n                            <div id=\"info\">\n                                <p>@{pseudo}</p>\n                                <p>{nom}</p>\n                                <p>{prenom}</p>\n                            </div>\n                </div>\n                        \n            </fieldset>\n            </div>\n            )\n    }\n}\n\nexport default Profil;"]},"metadata":{},"sourceType":"module"}