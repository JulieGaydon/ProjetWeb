{"ast":null,"code":"import _classCallCheck from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/src/FormAddMessage.js\";\nimport React, { Component } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\nvar FormAddMessage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormAddMessage, _Component);\n\n  function FormAddMessage(props) {\n    var _this;\n\n    _classCallCheck(this, FormAddMessage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormAddMessage).call(this, props));\n    _this.state = {\n      message: \"\",\n      pseudo: \"\",\n      connexion: true\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } // publierM(value){\n  //     // fonction ajout message a base de donnees\n  //     // this.props.addMessage(value)\n  //     this.props.CallBackEcrireMessage(false)\n  //     return this.state;\n  // }\n\n\n  _createClass(FormAddMessage, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var instance = axios.create({\n        baseURL: 'http://localhost:4000/',\n        timeout: 5000,\n        headers: {\n          'X-Custom-Header': 'foobar'\n        }\n      });\n      console.log(\"pseudo addMessage :\", this.state.pseudo);\n      instance.put('api/message', {\n        Pseudo: this.state.pseudo,\n        Message: this.state.message\n      }).then(function (response) {\n        console.log(\"resultat\", response);\n        alert(response);\n      }).catch(function (error) {\n        console.log(error);\n        alert(\"error\", error);\n      });\n      alert(\"etat\", this.state.connexion);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        message: document.forms[\"FormAddMessage\"].elements[\"message\"].value\n      });\n      var p = this.props.passerPseudo;\n      this.setState({\n        pseudo: p\n      });\n    }\n  }, {\n    key: \"EventConnected\",\n    value: function EventConnected() {\n      var _this2 = this;\n\n      return React.createElement(\"form\", {\n        className: \"FormAddMessage\",\n        name: \"FormAddMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"LabelM\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"inputM\",\n        ref: \"message\",\n        placeholder: \"Ecrire votre message\",\n        name: \"message\",\n        value: this.state.message,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button\",\n        id: \"publierM\",\n        onClick: function onClick() {\n          return _this2.handleSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Publier\")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.connexion === true) {\n        return this.EventConnected();\n      }\n    }\n  }]);\n\n  return FormAddMessage;\n}(Component);\n\nexport default FormAddMessage;","map":{"version":3,"sources":["/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/src/FormAddMessage.js"],"names":["React","Component","ListeMessage","MurDeTweetsF","axios","FormAddMessage","props","state","message","pseudo","connexion","handleSubmit","bind","handleChange","event","instance","create","baseURL","timeout","headers","console","log","put","Pseudo","Message","then","response","alert","catch","error","setState","document","forms","elements","value","p","passerPseudo","EventConnected"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\n\nclass FormAddMessage extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {message : \"\", pseudo : \"\", connexion : true}\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    // publierM(value){\n    //     // fonction ajout message a base de donnees\n    //     // this.props.addMessage(value)\n    //     this.props.CallBackEcrireMessage(false)\n    //     return this.state;\n    // }\n    \n    handleSubmit(event){\n        const instance = axios.create({\n            baseURL: 'http://localhost:4000/',\n            timeout: 5000,\n            headers: {'X-Custom-Header': 'foobar'}\n        });\n        console.log(\"pseudo addMessage :\",this.state.pseudo)\n        instance.put('api/message',{Pseudo : this.state.pseudo, Message :  this.state.message})\n        .then(function (response){\n            console.log(\"resultat\",response)\n            alert(response)\n        })\n        .catch(function (error){\n            console.log(error)\n            alert(\"error\",error)\n        })\n        alert(\"etat\",this.state.connexion)\n\n    }\n\n    handleChange(event){\n        this.setState({message : document.forms[\"FormAddMessage\"].elements[\"message\"].value});\n        let p = this.props.passerPseudo\n        this.setState({pseudo : p})\n    }\n    \n    EventConnected() {\n        return (\n            <form className = \"FormAddMessage\" name = \"FormAddMessage\">\n                    <div id=\"message\">\n                        <label id = \"LabelM\"></label><input type = \"text\" id = \"inputM\" ref = \"message\" placeholder='Ecrire votre message' name = \"message\" value= {this.state.message} onChange= {this.handleChange}></input>\n                        <button className = \"button\" id = \"publierM\" onClick={()=>this.handleSubmit()}>Publier</button>\n                    </div>\n                </form>\n        )\n    }\n\n    render(){\n        if(this.state.connexion === true){\n            return this.EventConnected()\n        }\n    }\n\n}\n\nexport default FormAddMessage;"]},"metadata":{},"sourceType":"module"}