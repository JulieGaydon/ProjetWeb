{"ast":null,"code":"import _slicedToArray from \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/MurDeTweets.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport FormAddMessage from './FormAddMessage';\nimport Profil from './Profil';\nimport ProfilAmi from './ProfilAmi';\nimport Logout from './Logout';\nimport Recherche from './Recherche';\nimport './MurDeTweets.css';\nimport Message from './Message';\n\nfunction MurDeTweets(_ref) {\n  var CallBackChangeEtat = _ref.CallBackChangeEtat,\n      PPpseudo = _ref.PPpseudo;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1]; // si false -> mur tweet , true -> profil\n\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      profil = _useState4[0],\n      setProfil = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      clicProfil = _useState6[0],\n      setClic = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pppseudo = _useState8[0],\n      setPseudo = _useState8[1];\n\n  useEffect(function () {\n    var p = {\n      PPpseudo: PPpseudo\n    };\n    console.log(\"PPp: \", PPpseudo);\n    setPseudo(p.PPpseudo);\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 1000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    });\n    instance.get('api/message/All/' + p.PPpseudo).then(function (response) {\n      //response.data liste de tous les messages\n      console.log(\"retourne :\", response.data); //doc = 1message\n\n      setPosts(response.data.map(function (doc) {\n        return doc;\n      }));\n    }).catch(function (error) {\n      console.log(\"message pas bon\");\n      alert(error);\n      console.log(error);\n    });\n  }, []); // {clicProfil}\n\n  console.log(\"clic :\", clicProfil, profil, pppseudo);\n\n  if (clicProfil != pppseudo && clicProfil != \"\") {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(ProfilAmi, {\n      CallBackChangeEtat: CallBackChangeEtat,\n      PPpseudo: pppseudo,\n      pseudoA: clicProfil,\n      setClic: setClic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  } else if (profil === true || clicProfil == pppseudo && pppseudo != \"\") {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Profil, {\n      CallBackChangeEtat: CallBackChangeEtat,\n      PPpseudo: pppseudo,\n      setClic: setClic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(\"div\", {\n      id: \"MurDeTweets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"enteteMur\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"titre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"BUTTERFLY\"), React.createElement(Logout, {\n      CallBackChangeEtat: CallBackChangeEtat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"cadreProfil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      id: \"bouttonMdT\",\n      onClick: function onClick() {\n        return setProfil(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Profil\")), React.createElement(\"div\", {\n      id: \"recherche\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Recherche, {\n      PPpseudo: pppseudo,\n      setClic: setClic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"messM\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(FormAddMessage, {\n      passerPseudo: pppseudo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"cadreTweets\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, posts.map(function (post) {\n      return React.createElement(Message, {\n        key: post._id,\n        pseudo: post.pseudo,\n        message: post.message,\n        date: post.date,\n        setClic: setClic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      });\n    }))));\n  }\n}\n\nexport default MurDeTweets;","map":{"version":3,"sources":["/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/MurDeTweets.js"],"names":["React","useEffect","useState","axios","FormAddMessage","Profil","ProfilAmi","Logout","Recherche","Message","MurDeTweets","CallBackChangeEtat","PPpseudo","posts","setPosts","profil","setProfil","clicProfil","setClic","pppseudo","setPseudo","p","console","log","instance","create","baseURL","timeout","headers","get","then","response","data","map","doc","catch","error","alert","post","_id","pseudo","message","date"],"mappings":"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","sourcesContent":["import React, { useEffect ,useState } from 'react';\nimport axios from 'axios';\nimport FormAddMessage from './FormAddMessage';\nimport Profil from './Profil';\nimport ProfilAmi from './ProfilAmi';\nimport Logout from './Logout';\nimport Recherche from './Recherche';\nimport './MurDeTweets.css';\nimport Message from './Message';\n\nfunction MurDeTweets ({CallBackChangeEtat, PPpseudo}){\n    const[posts, setPosts] = useState([]);\n    // si false -> mur tweet , true -> profil\n    const[profil, setProfil] = useState(false);\n    const[clicProfil, setClic] = useState(\"\");\n    const[pppseudo, setPseudo] = useState(\"\");\n\n    useEffect(()=>{\n        let p = {PPpseudo}\n        console.log(\"PPp: \",PPpseudo)\n        setPseudo(p.PPpseudo)\n        const instance = axios.create({\n            baseURL: 'http://localhost:4000/',\n            timeout: 1000,\n            headers: {'X-Custom-Header': 'foobar'}\n        });\n        instance.get('api/message/All/'+p.PPpseudo)\n        .then(function (response){\n            //response.data liste de tous les messages\n            console.log(\"retourne :\",response.data)\n            //doc = 1message\n            setPosts(response.data.map((doc) => doc))\n        })\n        .catch(function (error){\n            console.log(\"message pas bon\")\n            alert(error)\n            console.log(error)\n        })\n    },[])\n    // {clicProfil}\n    console.log(\"clic :\",clicProfil, profil, pppseudo)\n        if(clicProfil != pppseudo && clicProfil != \"\"){\n            return(\n                <div>\n                <ProfilAmi CallBackChangeEtat = {CallBackChangeEtat} PPpseudo = {pppseudo} pseudoA = {clicProfil} setClic= {setClic} />\n                </div>\n            )\n        }\n        else if (profil === true ||( clicProfil == pppseudo && pppseudo != \"\")){\n            return(\n                <div>\n                   <Profil CallBackChangeEtat = {CallBackChangeEtat} PPpseudo = {pppseudo} setClic= {setClic}/>\n                </div>\n            )\n        }\n        else{\n            return(\n                <div id = \"MurDeTweets\">\n                    <div id=\"enteteMur\">\n                        <h2 id = \"titre\">BUTTERFLY</h2>\n                        <Logout CallBackChangeEtat = {CallBackChangeEtat} />                     \n                    </div>\n\n                        <div id=\"cadreProfil\">\n                            <button type=\"button\" id = \"bouttonMdT\" onClick={()=>setProfil(true)}>Profil</button>\n                            {/* ajouter pseudo, nom, prenom */}\n                        </div>\n                        <div id=\"recherche\">\n                            <Recherche PPpseudo = {pppseudo} setClic= {setClic}/>\n                        </div>\n                    <div id=\"messM\">\n                        <FormAddMessage passerPseudo = {pppseudo}/>\n                        <div id=\"cadreTweets\">\n                            {posts.map((post) => (\n                                <Message key = {post._id} pseudo = {post.pseudo} message = {post.message} date = {post.date} setClic= {setClic}/>\n                            ))}\n                        </div>\n\n                    </div>\n                </div>\n            )\n            \n        }\n        \n  }\n\nexport default MurDeTweets;"]},"metadata":{},"sourceType":"module"}