{"ast":null,"code":"var _jsxFileName = \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Message.js\";\nimport React, { forwardRef, useState } from 'react';\nimport './Message.css';\nimport axios from 'axios';\nvar Message = forwardRef(function (_ref, ref) {\n  var idM = _ref.idM,\n      pseudo = _ref.pseudo,\n      message = _ref.message,\n      date = _ref.date,\n      setClic = _ref.setClic,\n      page = _ref.page;\n  console.log(\"page vaut\", page); // on peut supprimer nos message que dans notre profil\n\n  var supprimerM = function supprimerM() {\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 5000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    }); // on recupere les liens d'amitie\n\n    instance.delete('api/message/' + idM).then(function (response) {\n      console.log(\"suppresion message\", response);\n      alert(\"Message supprimé\");\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"error\", error);\n    });\n  };\n\n  if (page == 'profil') {\n    console.log(\"if\");\n    return React.createElement(\"div\", {\n      className: \"post\",\n      id: \"cadreMessage\",\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"enteteMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      id: \"boutonPseudo\",\n      onClick: function onClick() {\n        return setClic(pseudo);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"@\", pseudo), React.createElement(\"img\", {\n      id: \"photoAmi\",\n      src: \"papillon.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"boutonSupprimer\",\n      onClick: function onClick() {\n        return supprimerM();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"X\"), date), React.createElement(\"div\", {\n      id: \"contenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, message));\n  } else {\n    console.log(\"else\");\n    return React.createElement(\"div\", {\n      className: \"post\",\n      id: \"cadreMessage\",\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"enteteMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      id: \"boutonPseudo\",\n      onClick: function onClick() {\n        return setClic(pseudo);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"@\", pseudo), React.createElement(\"img\", {\n      id: \"photoAmi\",\n      src: \"papillon.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), date), React.createElement(\"div\", {\n      id: \"contenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, message));\n  }\n});\nexport default Message;","map":{"version":3,"sources":["/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Message.js"],"names":["React","forwardRef","useState","axios","Message","ref","idM","pseudo","message","date","setClic","page","console","log","supprimerM","instance","create","baseURL","timeout","headers","delete","then","response","alert","catch","error"],"mappings":"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","sourcesContent":["import React, { forwardRef, useState} from 'react';\nimport './Message.css';\nimport axios from 'axios';\n\nconst Message = forwardRef(\n    ({idM, pseudo, message, date, setClic, page},ref)=>{\n\n        console.log(\"page vaut\",page)\n        // on peut supprimer nos message que dans notre profil\n        const supprimerM =() =>{\n            const instance = axios.create({\n                baseURL: 'http://localhost:4000/',\n                timeout: 5000,\n                headers: {'X-Custom-Header': 'foobar'}\n            });\n            // on recupere les liens d'amitie\n            instance.delete('api/message/'+idM)\n            .then(function (response){\n                console.log(\"suppresion message\",response)\n                alert(\"Message supprimé\")\n            })\n            .catch(function (error){\n                console.log(error)\n                alert(\"error\",error)\n            })\n        }\n\n            if(page == 'profil'){\n                console.log(\"if\")\n                return(\n                    <div className=\"post\" id='cadreMessage' ref={ref}>\n                        <div id =\"enteteMessage\">\n                            <button className = \"button\" id = \"boutonPseudo\" onClick={()=>setClic(pseudo)}>@{pseudo}</button>\n                            <img id=\"photoAmi\"src=\"papillon.jpg\"/>\n                            <button id = \"boutonSupprimer\" onClick={()=>supprimerM()}>X</button>\n                            {date}\n                        </div>\n                        {/* <input id = \"date\" type = \"date\" placeholder=\"Date\" name = \"date\" value= {this.state.date} onChange= {this.handleChange}></input> */}\n                            \n                        <div id=\"contenu\">\n                            {message}\n                        </div>\n                    </div>\n                )\n            }\n            else{\n                console.log(\"else\")\n                return(\n                    <div className=\"post\" id='cadreMessage' ref={ref}>\n                        {/* boutton suppression message */}\n                        <div id =\"enteteMessage\">\n                            <button className = \"button\" id = \"boutonPseudo\" onClick={()=>setClic(pseudo)}>@{pseudo}</button>\n                            <img id=\"photoAmi\"src=\"papillon.jpg\"/>\n                            {date}\n                        </div>\n                        {/* <input id = \"date\" type = \"date\" placeholder=\"Date\" name = \"date\" value= {this.state.date} onChange= {this.handleChange}></input> */}\n                            \n                        <div id=\"contenu\">\n                            {message}\n                        </div>\n                    </div>\n                )\n                }\n    }\n)\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}