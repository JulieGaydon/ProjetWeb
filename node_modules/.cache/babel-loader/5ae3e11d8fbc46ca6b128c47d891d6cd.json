{"ast":null,"code":"var _jsxFileName = \"/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Message.js\";\nimport React, { forwardRef, useState } from 'react';\nimport './message.css';\nimport Profil from './Profil';\nvar Message = forwardRef(function (_ref, ref) {\n  var idM = _ref.idM,\n      pseudo = _ref.pseudo,\n      message = _ref.message,\n      date = _ref.date,\n      setClic = _ref.setClic;\n\n  var supprimerM = function supprimerM() {\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 5000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    }); // on recupere les liens d'amitie\n\n    instance.get('api/ami/' + PPpseudo).then(function (response) {\n      //response.data liste de tous les messages\n      alert(\"resultat response :\", response.data);\n      console.log(\"resultat response :\", response.data);\n      var i = 0;\n      var dejaAmi = false; // on regarde si on est ami avec la personne\n\n      while (response.data[i] != undefined) {\n        console.log(\"response.data[i].pami\", response.data[i].pami);\n\n        if (pseudoA == response.data[i].pami) {\n          console.log(\"deja ami\");\n          dejaAmi = true; // on supprime lien amitier\n\n          instance.delete('api/ami/' + response.data[i]._id).then(function (response) {\n            console.log(\"suppresion lien amitie\", response);\n            alert(\"Desabonné\");\n          }).catch(function (error) {\n            console.log(error);\n            alert(\"error\", error);\n          });\n          break;\n        }\n\n        i = i + 1;\n      }\n    }).catch(function (error) {\n      alert(\"fonction get ami\", error);\n      console.log(error);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"post\",\n    id: \"Message\",\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button\",\n    id: \"pseudo\",\n    onClick: function onClick() {\n      return supprimerM;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"X\"), React.createElement(\"img\", {\n    id: \"photo\",\n    src: \"papillon.jpg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"button\",\n    id: \"pseudo\",\n    onClick: function onClick() {\n      return setClic(pseudo);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, pseudo), date, React.createElement(\"div\", {\n    id: \"contenu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, message));\n});\nexport default Message;","map":{"version":3,"sources":["/home/julie/Documents/Julie/L3Info/Web/ProjetWeb/src/Message.js"],"names":["React","forwardRef","useState","Profil","Message","ref","idM","pseudo","message","date","setClic","supprimerM","instance","axios","create","baseURL","timeout","headers","get","PPpseudo","then","response","alert","data","console","log","i","dejaAmi","undefined","pami","pseudoA","delete","_id","catch","error"],"mappings":"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","sourcesContent":["import React, { forwardRef, useState} from 'react';\nimport './message.css';\nimport Profil from './Profil';\n\nconst Message = forwardRef(\n    ({idM, pseudo, message, date, setClic},ref)=>{\n\n        const supprimerM =() =>{\n            const instance = axios.create({\n                baseURL: 'http://localhost:4000/',\n                timeout: 5000,\n                headers: {'X-Custom-Header': 'foobar'}\n            });\n            // on recupere les liens d'amitie\n            instance.get('api/ami/'+PPpseudo)\n            .then(function (response){\n                //response.data liste de tous les messages\n                alert(\"resultat response :\",response.data)\n                console.log(\"resultat response :\",response.data)\n                let i=0\n                let dejaAmi = false\n                // on regarde si on est ami avec la personne\n                while(response.data[i] != undefined){\n                    console.log(\"response.data[i].pami\",response.data[i].pami)\n                    if(pseudoA == response.data[i].pami){\n                        console.log(\"deja ami\")\n                        dejaAmi = true\n                        // on supprime lien amitier\n                        instance.delete('api/ami/'+response.data[i]._id)\n                        .then(function (response){\n                            console.log(\"suppresion lien amitie\",response)\n                            alert(\"Desabonné\")\n                        })\n                        .catch(function (error){\n                            console.log(error)\n                            alert(\"error\",error)\n                        })\n                        \n                        break\n                    }\n                    i = i+1\n                }\n            })\n            .catch(function (error){\n                alert(\"fonction get ami\",error)\n                console.log(error)\n            })\n        }\n\n        return(\n            <div className=\"post\" id='Message' ref={ref}>\n                {/* boutton suppression message */}\n                <button className = \"button\" id = \"pseudo\" onClick={()=>supprimerM}>X</button>\n                \n                <img id=\"photo\"src=\"papillon.jpg\"/>\n                <button className = \"button\" id = \"pseudo\" onClick={()=>setClic(pseudo)}>{pseudo}</button>\n                {date}\n                {/* <input id = \"date\" type = \"date\" placeholder=\"Date\" name = \"date\" value= {this.state.date} onChange= {this.handleChange}></input> */}\n                    \n            <div id=\"contenu\">\n                {message}\n            </div>\n            </div>\n        )\n    }\n)\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}