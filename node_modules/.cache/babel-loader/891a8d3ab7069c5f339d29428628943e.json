{"ast":null,"code":"var _this = this;\n\nimport React, { forwardRef } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\nvar FormAddMessage = forwardRef(function (_ref, ref) {\n  var pseudo = _ref.pseudo;\n  var instance = axios.create({\n    baseURL: 'http://localhost:4000/',\n    timeout: 5000,\n    headers: {\n      'X-Custom-Header': 'foobar'\n    }\n  });\n  console.log(\"pseudo addMessage :\", _this.state.pseudo);\n  instance.put('api/message', {\n    Pseudo: _this.state.pseudo,\n    Message: _this.state.message\n  }).then(function (response) {\n    console.log(\"resultat\", response);\n    alert(response);\n  }).catch(function (error) {\n    console.log(error);\n    alert(\"error\", error);\n  });\n}); // class FormAddMessage extends Component{\n//     constructor(props){\n//         super(props);\n//         this.state = {message : \"\", pseudo : \"\", connexion : true}\n//         this.handleSubmit = this.handleSubmit.bind(this);\n//         this.handleChange = this.handleChange.bind(this);\n//     }\n//     // publierM(value){\n//     //     // fonction ajout message a base de donnees\n//     //     // this.props.addMessage(value)\n//     //     this.props.CallBackEcrireMessage(false)\n//     //     return this.state;\n//     // }\n//     handleSubmit(event){\n//         const instance = axios.create({\n//             baseURL: 'http://localhost:4000/',\n//             timeout: 5000,\n//             headers: {'X-Custom-Header': 'foobar'}\n//         });\n//         console.log(\"pseudo addMessage :\",this.state.pseudo)\n//         instance.put('api/message',{Pseudo : this.state.pseudo, Message :  this.state.message})\n//         .then(function (response){\n//             console.log(\"resultat\",response)\n//             alert(response)\n//         })\n//         .catch(function (error){\n//             console.log(error)\n//             alert(\"error\",error)\n//         })\n//         alert(\"etat\",this.state.connexion)\n//     }\n//     handleChange(event){\n//         this.setState({message : document.forms[\"FormAddMessage\"].elements[\"message\"].value});\n//         let p = {passerPseudo}\n//         this.setState({pseudo : p})\n//     }\n//     EventConnected() {\n//         return (\n//             <form className = \"FormAddMessage\" name = \"FormAddMessage\">\n//                     <div id=\"message\">\n//                         <label id = \"LabelM\"></label><input type = \"text\" id = \"inputM\" ref = \"message\" placeholder='Ecrire votre message' name = \"message\" value= {this.state.message} onChange= {this.handleChange}></input>\n//                         <button className = \"button\" id = \"publierM\" onClick={()=>this.handleSubmit()}>Publier</button>\n//                     </div>\n//                 </form>\n//         )\n//     }\n//     render(){\n//         if(this.state.connexion === true){\n//             return this.EventConnected()\n//         }\n//     }\n// }\n\nexport default FormAddMessage;","map":{"version":3,"sources":["/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/src/FormAddMessage.js"],"names":["React","forwardRef","ListeMessage","MurDeTweetsF","axios","FormAddMessage","ref","pseudo","instance","create","baseURL","timeout","headers","console","log","state","put","Pseudo","Message","message","then","response","alert","catch","error"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,cAAc,GAAGJ,UAAU,CAC7B,gBAAUK,GAAV,EAAgB;AAAA,MAAdC,MAAc,QAAdA,MAAc;AACZ,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;AACtBC,IAAAA,OAAO,EAAE,wBADa;AAEtBC,IAAAA,OAAO,EAAE,IAFa;AAGtBC,IAAAA,OAAO,EAAE;AAAC,yBAAmB;AAApB;AAHa,GAAb,CAAjB;AAKIC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkC,KAAI,CAACC,KAAL,CAAWR,MAA7C;AACAC,EAAAA,QAAQ,CAACQ,GAAT,CAAa,aAAb,EAA2B;AAACC,IAAAA,MAAM,EAAG,KAAI,CAACF,KAAL,CAAWR,MAArB;AAA6BW,IAAAA,OAAO,EAAI,KAAI,CAACH,KAAL,CAAWI;AAAnD,GAA3B,EACCC,IADD,CACM,UAAUC,QAAV,EAAmB;AACrBR,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBO,QAAvB;AACAC,IAAAA,KAAK,CAACD,QAAD,CAAL;AACH,GAJD,EAKCE,KALD,CAKO,UAAUC,KAAV,EAAgB;AACnBX,IAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACAF,IAAAA,KAAK,CAAC,OAAD,EAASE,KAAT,CAAL;AACH,GARD;AASP,CAjB4B,CAAjC,C,CAmBA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;AAEA,eAAenB,cAAf","sourcesContent":["import React, { forwardRef } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\nconst FormAddMessage = forwardRef(\n    ({pseudo},ref)=>{\n        const instance = axios.create({\n                baseURL: 'http://localhost:4000/',\n                timeout: 5000,\n                headers: {'X-Custom-Header': 'foobar'}\n            });\n            console.log(\"pseudo addMessage :\",this.state.pseudo)\n            instance.put('api/message',{Pseudo : this.state.pseudo, Message :  this.state.message})\n            .then(function (response){\n                console.log(\"resultat\",response)\n                alert(response)\n            })\n            .catch(function (error){\n                console.log(error)\n                alert(\"error\",error)\n            })\n    }\n)\n// class FormAddMessage extends Component{\n\n//     constructor(props){\n//         super(props);\n//         this.state = {message : \"\", pseudo : \"\", connexion : true}\n//         this.handleSubmit = this.handleSubmit.bind(this);\n//         this.handleChange = this.handleChange.bind(this);\n//     }\n\n//     // publierM(value){\n//     //     // fonction ajout message a base de donnees\n//     //     // this.props.addMessage(value)\n//     //     this.props.CallBackEcrireMessage(false)\n//     //     return this.state;\n//     // }\n    \n//     handleSubmit(event){\n//         const instance = axios.create({\n//             baseURL: 'http://localhost:4000/',\n//             timeout: 5000,\n//             headers: {'X-Custom-Header': 'foobar'}\n//         });\n//         console.log(\"pseudo addMessage :\",this.state.pseudo)\n//         instance.put('api/message',{Pseudo : this.state.pseudo, Message :  this.state.message})\n//         .then(function (response){\n//             console.log(\"resultat\",response)\n//             alert(response)\n//         })\n//         .catch(function (error){\n//             console.log(error)\n//             alert(\"error\",error)\n//         })\n//         alert(\"etat\",this.state.connexion)\n\n//     }\n\n//     handleChange(event){\n//         this.setState({message : document.forms[\"FormAddMessage\"].elements[\"message\"].value});\n//         let p = {passerPseudo}\n//         this.setState({pseudo : p})\n//     }\n    \n//     EventConnected() {\n//         return (\n//             <form className = \"FormAddMessage\" name = \"FormAddMessage\">\n//                     <div id=\"message\">\n//                         <label id = \"LabelM\"></label><input type = \"text\" id = \"inputM\" ref = \"message\" placeholder='Ecrire votre message' name = \"message\" value= {this.state.message} onChange= {this.handleChange}></input>\n//                         <button className = \"button\" id = \"publierM\" onClick={()=>this.handleSubmit()}>Publier</button>\n//                     </div>\n//                 </form>\n//         )\n//     }\n\n//     render(){\n//         if(this.state.connexion === true){\n//             return this.EventConnected()\n//         }\n//     }\n\n// }\n\nexport default FormAddMessage;"]},"metadata":{},"sourceType":"module"}