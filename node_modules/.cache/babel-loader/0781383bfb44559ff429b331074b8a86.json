{"ast":null,"code":"import _slicedToArray from \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/src/FormAddMessage.js\";\nimport React, { useState, handleChange, handleSubmit, EventConnected } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\nfunction FormAddMessage(_ref) {\n  var passerPseudo = _ref.passerPseudo;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      addMessage = _useState2[1];\n\n  handleSubmit(function () {\n    var instance = axios.create({\n      baseURL: 'http://localhost:4000/',\n      timeout: 5000,\n      headers: {\n        'X-Custom-Header': 'foobar'\n      }\n    });\n    var p = {\n      passerPseudo: passerPseudo\n    };\n    instance.put('api/message', (p.passerPseudo, message)).then(function (response) {\n      console.log(\"resultat\", response);\n      alert(response);\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"error\", error);\n    });\n  }), handleChange(function () {\n    addMessage(document.forms[\"FormAddMessage\"].elements[\"message\"].value);\n  }), EventConnected(function () {\n    return React.createElement(\"form\", {\n      className: \"FormAddMessage\",\n      name: \"FormAddMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      id: \"LabelM\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"inputM\",\n      ref: \"message\",\n      placeholder: \"Ecrire votre message\",\n      name: \"message\",\n      value: message,\n      onChange: handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button\",\n      id: \"publierM\",\n      onClick: function onClick() {\n        return handleSubmit();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Publier\")));\n  });\n} // class FormAddMessage extends Component{\n//     constructor(props){\n//         super(props);\n//         this.state = {message : \"\", pseudo : \"\", connexion : true}\n//         this.handleSubmit = this.handleSubmit.bind(this);\n//         this.handleChange = this.handleChange.bind(this);\n//     }\n//     // publierM(value){\n//     //     // fonction ajout message a base de donnees\n//     //     // this.props.addMessage(value)\n//     //     this.props.CallBackEcrireMessage(false)\n//     //     return this.state;\n//     // }\n//     render(){\n//         if(this.state.connexion === true){\n//             return this.EventConnected()\n//         }\n//     }\n// }\n\n\nexport default FormAddMessage;","map":{"version":3,"sources":["/Users/camillelewden/Documents/FAC/L4/S6/Web/projetFinal/ProjetWeb/src/FormAddMessage.js"],"names":["React","useState","handleChange","handleSubmit","EventConnected","ListeMessage","MurDeTweetsF","axios","FormAddMessage","passerPseudo","message","addMessage","instance","create","baseURL","timeout","headers","p","put","then","response","console","log","alert","catch","error","document","forms","elements","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,YAA1B,EAAwCC,YAAxC,EAAsDC,cAAtD,QAA4E,OAA5E;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAO,sBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,cAAT,OAAuC;AAAA,MAAdC,YAAc,QAAdA,YAAc;;AAAA,kBACNR,QAAQ,CAAC,EAAD,CADF;AAAA;AAAA,MAC7BS,OAD6B;AAAA,MACpBC,UADoB;;AAG/BR,EAAAA,YAAY,CAAC,YAAI;AACb,QAAMS,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa;AAC9BC,MAAAA,OAAO,EAAE,wBADqB;AAE9BC,MAAAA,OAAO,EAAE,IAFqB;AAG9BC,MAAAA,OAAO,EAAE;AAAC,2BAAmB;AAApB;AAHqB,KAAb,CAAjB;AAKA,QAAIC,CAAC,GAAG;AAACR,MAAAA,YAAY,EAAZA;AAAD,KAAR;AACAG,IAAAA,QAAQ,CAACM,GAAT,CAAa,aAAb,GAA4BD,CAAC,CAACR,YAAF,EAAgBC,OAA5C,GACCS,IADD,CACM,UAAUC,QAAV,EAAmB;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBF,QAAvB;AACAG,MAAAA,KAAK,CAACH,QAAD,CAAL;AACH,KAJD,EAKCI,KALD,CAKO,UAAUC,KAAV,EAAgB;AACnBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACAF,MAAAA,KAAK,CAAC,OAAD,EAASE,KAAT,CAAL;AACH,KARD;AASH,GAhBW,CAAZ,EAkBIvB,YAAY,CAAC,YAAK;AACdS,IAAAA,UAAU,CAACe,QAAQ,CAACC,KAAT,CAAe,gBAAf,EAAiCC,QAAjC,CAA0C,SAA1C,EAAqDC,KAAtD,CAAV;AACH,GAFW,CAlBhB,EAsBIzB,cAAc,CAAC,YAAK;AAChB,WACI;AAAM,MAAA,SAAS,EAAG,gBAAlB;AAAmC,MAAA,IAAI,EAAG,gBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,EAAE,EAAG,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EACiC;AAAO,MAAA,IAAI,EAAG,MAAd;AAAqB,MAAA,EAAE,EAAG,QAA1B;AAAmC,MAAA,GAAG,EAAG,SAAzC;AAAmD,MAAA,WAAW,EAAC,sBAA/D;AAAsF,MAAA,IAAI,EAAG,SAA7F;AAAuG,MAAA,KAAK,EAAGM,OAA/G;AAAwH,MAAA,QAAQ,EAAGR,YAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADjC,EAEI;AAAQ,MAAA,SAAS,EAAG,QAApB;AAA6B,MAAA,EAAE,EAAG,UAAlC;AAA6C,MAAA,OAAO,EAAE;AAAA,eAAIC,YAAY,EAAhB;AAAA,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CADR,CADJ;AAQH,GATa,CAtBlB;AAgCH,C,CAEL;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;;;AAEA,eAAeK,cAAf","sourcesContent":["import React, { useState, handleChange, handleSubmit, EventConnected } from 'react';\nimport ListeMessage from './ListeMessage';\nimport MurDeTweetsF from './MurDeTweets';\nimport './FormAddMessage.css';\nimport axios from 'axios';\n\nfunction FormAddMessage({passerPseudo}){\n    const[message, addMessage] = useState(\"\");\n    \n        handleSubmit(()=>{\n            const instance = axios.create({\n            baseURL: 'http://localhost:4000/',\n            timeout: 5000,\n            headers: {'X-Custom-Header': 'foobar'}\n            });\n            let p = {passerPseudo}\n            instance.put('api/message',(p.passerPseudo, message))\n            .then(function (response){\n                console.log(\"resultat\",response)\n                alert(response)\n            })\n            .catch(function (error){\n                console.log(error)\n                alert(\"error\",error)\n            })\n        }),\n\n            handleChange(()=> {\n                addMessage(document.forms[\"FormAddMessage\"].elements[\"message\"].value);   \n            }),\n\n            EventConnected(() =>{\n                return (\n                    <form className = \"FormAddMessage\" name = \"FormAddMessage\">\n                            <div id=\"message\">\n                                <label id = \"LabelM\"></label><input type = \"text\" id = \"inputM\" ref = \"message\" placeholder='Ecrire votre message' name = \"message\" value= {message} onChange= {handleChange}></input>\n                                <button className = \"button\" id = \"publierM\" onClick={()=>handleSubmit()}>Publier</button>\n                            </div>\n                        </form>\n                )\n            })\n    }\n\n// class FormAddMessage extends Component{\n\n//     constructor(props){\n//         super(props);\n//         this.state = {message : \"\", pseudo : \"\", connexion : true}\n//         this.handleSubmit = this.handleSubmit.bind(this);\n//         this.handleChange = this.handleChange.bind(this);\n//     }\n\n//     // publierM(value){\n//     //     // fonction ajout message a base de donnees\n//     //     // this.props.addMessage(value)\n//     //     this.props.CallBackEcrireMessage(false)\n//     //     return this.state;\n//     // }\n    \n\n\n\n    \n    \n\n//     render(){\n//         if(this.state.connexion === true){\n//             return this.EventConnected()\n//         }\n//     }\n\n// }\n\nexport default FormAddMessage;"]},"metadata":{},"sourceType":"module"}